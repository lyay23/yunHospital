import{u as w,a as x,r as d,b as l,c as h,o as m,d as y,e as a,w as V,f as k,g as r,h as s,i as N,j as B,E as C}from"./index.eaac7b27.js";import{p as q}from"./api.12427e84.js";const E={class:"login-bg"},M={class:"login-wrapper"},U={style:{display:"flex","justify-content":"center",width:"100%","margin-top":"24px"}},F={__name:"Login",setup(j){const p=w(),_=x(),t=d({}),g=d({userName:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u5230 20 \u4E2A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u957F\u5EA6\u5728 6 \u5230 16 \u4E2A\u5B57\u7B26",trigger:"blur"}]}),c=()=>{q("/user/login",t.value).then(o=>{if(o.data.result){let e=o.data.data;e.token=o.data.token,e.isAuth=!0,_.setAuthenticated(e),p.push("/home")}else C.alert(o.data.errMsg,"\u63D0\u793A",{})})};return(o,e)=>{const i=l("el-input"),u=l("el-form-item"),f=l("el-button"),v=l("el-form"),b=h("loading");return m(),y("div",E,[a("div",M,[V((m(),k(v,{model:t.value,rules:g.value,ref:"ruleForm",class:"login-container login-form","label-position":"left","label-width":"80px","status-icon":""},{default:r(()=>[e[3]||(e[3]=a("div",{class:"login-logo"},null,-1)),e[4]||(e[4]=a("h3",{class:"login_title"},"\u4E1C\u8F6F\u4E91\u533B\u9662\u7CFB\u7EDF\u767B\u5F55",-1)),s(u,{label:"\u7528\u6237\u540D",prop:"userName"},{default:r(()=>[s(i,{modelValue:t.value.userName,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.userName=n),placeholder:"\u7528\u6237\u540D",class:"modern-input"},null,8,["modelValue"])]),_:1}),s(u,{label:"\u5BC6\u7801",prop:"password"},{default:r(()=>[s(i,{type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.password=n),placeholder:"\u5BC6\u7801",class:"modern-input"},null,8,["modelValue"])]),_:1}),a("div",U,[s(f,{type:"primary",class:"modern-btn",style:{width:"60%"},onClick:B(c,["prevent"])},{default:r(()=>e[2]||(e[2]=[N("\u767B\u5F55")])),_:1,__:[2]})])]),_:1,__:[3,4]},8,["model","rules"])),[[b,o.loading]])])])}}};export{F as default};

import{g as k}from"./api.12427e84.js";import{_ as A,r as i,l as M,x as z,b as r,o as D,d as I,h as l,g,m as y,e as v,i as N,t as S}from"./index.eaac7b27.js";const P={class:"operation-log-container"},V={style:{"margin-bottom":"16px",display:"flex","align-items":"center"}},R={style:{"margin-top":"16px","text-align":"right"}},T={__name:"OperationLog",setup(W){const c=i([]),p=i(0),d=i(10),n=i(1),u=i(""),x=t=>{const{className:o,methodName:a}=t,C={chat:"AI\u836F\u65B9\u95EE\u8BCA",chatStream:"AI\u95EE\u8BCA\u75C5\u5386",doPay:"\u6536\u8D39",executeCheck:"\u6267\u884C\u68C0\u67E5",importFmeditem:"\u5BFC\u5165\u975E\u836F\u54C1\u9879\u76EE",cancelExecuteCheck:"\u53D6\u6D88\u6267\u884C\u68C0\u67E5"};if(C[a])return C[a];let e="\u672A\u77E5\u64CD\u4F5C";a.toLowerCase().startsWith("add")||a.toLowerCase().startsWith("save")?e="\u65B0\u589E":a.toLowerCase().startsWith("update")?e="\u66F4\u65B0":a.toLowerCase().startsWith("del")?e="\u5220\u9664":a.toLowerCase().startsWith("finish")&&(e="\u8BCA\u6BD5");const _=o.substring(o.lastIndexOf(".")+1),m={CheckApplyController:"\u68C0\u67E5\u7533\u8BF7",CheckTemplateController:"\u68C0\u67E5\u6A21\u677F",DrugsController:"\u836F\u54C1",DrugsTemplateController:"\u836F\u54C1\u6A21\u677F",MedicalDiseaseController:"\u8BCA\u65AD",MedicalRecordController:"\u75C5\u5386",PrescriptionController:"\u5904\u65B9",PrescriptionDetailedController:"\u5904\u65B9\u660E\u7EC6",CustomerController:"\u60A3\u8005",InvoiceController:"\u53D1\u7968",MedicalCardController:"\u5C31\u8BCA\u5361",PatientcostsController:"\u60A3\u8005\u8D39\u7528",RegisterController:"\u6302\u53F7",ConstantItemController:"\u5E38\u6570\u9879",ConstantTypeController:"\u5E38\u91CF\u7C7B\u578B",DepartmentController:"\u79D1\u5BA4",DiseaseController:"\u75BE\u75C5\u76EE\u5F55",DisecategoryController:"\u75BE\u75C5\u5206\u7C7B",ExpenseclassController:"\u8D39\u7528\u79D1\u76EE",FmeditemController:"\u975E\u836F\u54C1\u9879\u76EE",RegistlevelController:"\u6302\u53F7\u7EA7\u522B",RuleController:"\u6392\u73ED\u89C4\u5219",SchedulingController:"\u6392\u73ED\u8BA1\u5212",SettlecategoryController:"\u7ED3\u7B97\u7C7B\u522B",UserController:"\u7528\u6237",AIChatController:"AI\u52A9\u624B"}[_]||_;return["\u67E5\u8BE2","\u767B\u5F55","\u767B\u51FA","\u8BCA\u6BD5"].includes(e)?e:e!=="\u672A\u77E5\u64CD\u4F5C"?`${e}${m}`:a},b=t=>(n.value-1)*d.value+t+1,s=async()=>{try{const t={current:n.value,size:d.value};u.value&&(t.keyword=u.value);const o=await k("/operationLog/page",t);o.data&&Array.isArray(o.data.records)?(c.value=o.data.records||[],p.value=o.data.total||0):(c.value=[],p.value=0,y.error("\u83B7\u53D6\u64CD\u4F5C\u65E5\u5FD7\u5931\u8D25"))}catch{c.value=[],p.value=0,y.error("\u7F51\u7EDC\u9519\u8BEF\uFF0C\u83B7\u53D6\u64CD\u4F5C\u65E5\u5FD7\u5931\u8D25")}},w=t=>{n.value=t,s()},L=t=>{d.value=t,n.value=1,s()};return M(()=>{s()}),z(()=>{s()}),(t,o)=>{const a=r("el-input"),C=r("el-button"),e=r("el-table-column"),_=r("el-table"),f=r("el-pagination"),m=r("el-card");return D(),I("div",P,[l(m,null,{default:g(()=>[v("div",V,[l(a,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=h=>u.value=h),placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u7528\u6237\u6216\u8868\u540D",style:{width:"240px","margin-right":"8px"},clearable:""},null,8,["modelValue"]),l(C,{type:"primary",onClick:s},{default:g(()=>o[1]||(o[1]=[N("\u67E5\u8BE2")])),_:1,__:[1]})]),l(_,{data:c.value,border:"",stripe:"",style:{width:"100%"}},{default:g(()=>[l(e,{label:"\u5E8F\u53F7",width:"80",type:"index",index:b}),l(e,{prop:"userName",label:"\u767B\u5F55\u540D",width:"120"}),l(e,{prop:"realName",label:"\u64CD\u4F5C\u7528\u6237",width:"120"}),l(e,{prop:"operationTime",label:"\u64CD\u4F5C\u65F6\u95F4",width:"180"}),l(e,{label:"\u64CD\u4F5C\u65B9\u6CD5","min-width":"160"},{default:g(h=>[v("span",null,S(x(h.row)),1)]),_:1})]),_:1},8,["data"]),v("div",R,[l(f,{background:"",layout:"prev, pager, next, sizes, total",total:p.value,"page-size":d.value,"current-page":n.value,onCurrentChange:w,onSizeChange:L,"page-sizes":[10,20,50,100]},null,8,["total","page-size","current-page"])])]),_:1})])}}};var B=A(T,[["__scopeId","data-v-49d1ca9d"]]);export{B as default};
